"use strict";const listSerie=document.querySelector(".js-serie"),buttonSearch=document.querySelector(".js-buttonSearch"),listSerieFav=document.querySelector(".js-favList");let animeSeriesList=[],favouriteSeries=[];function getDataApi(){let e=document.querySelector(".js-inputSearh").value;fetch("https://api.jikan.moe/v4/anime?q="+e).then(e=>e.json()).then(e=>{animeSeriesList=e.data,console.log(animeSeriesList),renderSeries()})}function renderSeries(){let e="";e+="<h2>Resultado de la busqueda</h2>";for(const i of animeSeriesList)e+=`<li style="list-style-type:none" class="js-liSeries" id=${i.mal_id}>`,"https://cdn.myanimelist.net/img/sp/icon/apple-touch-icon-256.png"===i.images.jpg.image_url?e+="<img\n      src='\n      https://via.placeholder.com/210x295/ffffff/666666/?text=TV'\n      alt='image notfound'\n          />":e+=`<img\n      src=${i.images.jpg.image_url}\n      alt=${i.title}\n        />`,e+=`<h2>${i.title}</h2>`,e+="</li>",listSerie.innerHTML=e,listenerSeries()}function listenerSeries(){const e=document.querySelectorAll(".js-liSeries");for(const i of e)i.addEventListener("click",handleClickFav)}function handleClickFav(e){e.preventDefault(),console.log(e.currentTarget),console.log(e.currentTarget.id);const i=parseInt(e.currentTarget.id),t=animeSeriesList.find(e=>e.mal_id===i),s=favouriteSeries.findIndex(e=>e.mal_id===i);-1===s?(favouriteSeries.push(t),renderSeriesFav()):(favouriteSeries.splice(s,1),renderSeriesFav()),console.log(t),console.log(favouriteSeries)}function renderSeriesFav(){let e="";if(listSerieFav.innerHTML="",0===favouriteSeries.length)console.log(favouriteSeries),renderSeries();else{e="favouriteLi";let i="";i+='<div class="lists__favResult">',i+="<h2>Favoritos</h2>",i+='<ul class="lists__favResult--ul js-listsFav">';for(const t of favouriteSeries)console.log(t.mal_id),i+=`<li style="list-style-type:none" class="js-liSeriesFav" id=${t.mal_id}>`,"https://cdn.myanimelist.net/img/sp/icon/apple-touch-icon-256.png"===t.images.jpg.image_url?i+="<img\n      src='\n      https://via.placeholder.com/210x295/ffffff/666666/?text=TV'\n      alt='image notfound'\n          />":i+=`<img\n      src=${t.images.jpg.image_url}\n      alt=${t.title}\n        />`,i+=`<h2 class="${e}">${t.title}</h2>`,i+="</li>";i+="</ul>",i+="</div>",listSerieFav.innerHTML+=i}}buttonSearch.addEventListener("click",e=>{e.preventDefault(),getDataApi()});